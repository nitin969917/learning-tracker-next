module.exports=[24701,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),m=(0,e.useSearchParams)(),n=(0,e.useRouter)(),[o,p]=(0,c.useState)({title:"",description:"",course_type:"Custom Subject",playlist_url:""});(0,c.useEffect)(()=>{q(),"true"===m.get("new")&&l(!0)},[m]);let q=async()=>{try{let a=await fetch("/api/courses");if(!a.ok)throw Error("Failed to fetch courses");let b=await a.json();f(b)}catch(a){j("Failed to load courses"),console.error(a)}finally{h(!1)}},r=async a=>{a.preventDefault();try{let a=await fetch("/api/courses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to create course");p({title:"",description:"",course_type:"Custom Subject",playlist_url:""}),l(!1),q(),n.replace("/courses")}catch(a){j(a.message)}},s=async a=>{if(window.confirm("Are you sure you want to delete this course?"))try{let b=await fetch(`/api/courses/${a}`,{method:"DELETE"});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to delete course")}q()}catch(a){j(a.message)}},t=a=>{if(!a)return"0h";let b=Math.floor(a),c=Math.floor((a-b)*60);return b>0&&c>0?`${b}h ${c}m`:b>0?`${b}h`:`${c}m`};return g?(0,b.jsx)("div",{className:"loading",children:"Loading courses..."}):(0,b.jsx)("div",{className:"courses-page",children:(0,b.jsxs)("div",{className:"container",children:[(0,b.jsxs)("div",{className:"page-header",children:[(0,b.jsx)("h1",{className:"page-title",children:"My Courses"}),(0,b.jsx)("button",{onClick:()=>l(!k),className:"btn btn-primary",children:k?"Cancel":"+ New Course"})]}),i&&(0,b.jsx)("div",{className:"error",children:i}),k&&(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h2",{children:"Create New Course"}),(0,b.jsxs)("form",{onSubmit:r,children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Course Title *"}),(0,b.jsx)("input",{type:"text",className:"form-input",value:o.title,onChange:a=>p({...o,title:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Description"}),(0,b.jsx)("textarea",{className:"form-textarea",value:o.description,onChange:a=>p({...o,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Course Type"}),(0,b.jsxs)("select",{className:"form-select",value:o.course_type,onChange:a=>p({...o,course_type:a.target.value}),children:[(0,b.jsx)("option",{value:"Custom Subject",children:"Custom Subject"}),(0,b.jsx)("option",{value:"YouTube Playlist",children:"YouTube Playlist"})]})]}),"YouTube Playlist"===o.course_type&&(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"YouTube Playlist URL"}),(0,b.jsx)("input",{type:"text",className:"form-input",value:o.playlist_url,onChange:a=>p({...o,playlist_url:a.target.value}),placeholder:"https://www.youtube.com/playlist?list=...",required:!0}),(0,b.jsx)("p",{className:"field-hint",children:"Paste the full playlist link. All videos will be auto-added as lectures (if the backend has a YouTube API key)."})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create Course"})]})]}),0===a.length?(0,b.jsx)("div",{className:"card",children:(0,b.jsx)("p",{className:"no-data",children:"No courses yet. Create your first course to get started!"})}):(0,b.jsx)("div",{className:"courses-grid",children:a.map(a=>(0,b.jsxs)("div",{className:"course-card",children:[(0,b.jsxs)("div",{className:"course-card-header",children:[(0,b.jsx)("h3",{children:a.title}),(0,b.jsx)("button",{onClick:()=>s(a.id),className:"btn-delete",title:"Delete course",children:"×"})]}),(0,b.jsx)("p",{className:"course-description",children:a.description||"No description"}),(0,b.jsxs)("div",{className:"course-meta",children:[(0,b.jsx)("span",{className:"course-type",children:a.course_type}),(0,b.jsxs)("span",{className:"course-lectures",children:[a.completed_lectures," / ",a.total_lectures," lectures"]})]}),a.total_hours>0&&(0,b.jsx)("div",{className:"course-hours-meta",children:(0,b.jsxs)("span",{className:"course-hours",children:["⏱️ ",t(a.total_hours)," total",a.completed_hours>0&&(0,b.jsxs)("span",{className:"completed-hours",children:[" • ",t(a.completed_hours)," completed"]})]})}),(0,b.jsxs)("div",{className:"course-progress-section",children:[(0,b.jsx)("div",{className:"progress-bar",children:(0,b.jsx)("div",{className:"progress-fill",style:{width:`${a.completion_percentage}%`}})}),(0,b.jsxs)("span",{className:"progress-text",children:[a.completion_percentage,"% complete"]})]}),(0,b.jsx)(d.default,{href:`/courses/${a.id}`,className:"btn btn-primary btn-block",children:"View Course"})]},a.id))})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_%28authenticated%29_courses_page_97cade1c.js.map