module.exports=[9683,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944);function f(){let{id:a}=(0,e.useParams)(),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)({title:"",youtube_url:"",difficulty:"Medium",order_index:0});(0,c.useEffect)(()=>{r()},[a]);let r=async()=>{try{let b=await fetch(`/api/courses/${a}`);if(!b.ok)throw Error("Failed to fetch course");let c=await b.json();g(c),i(c.lectures||[])}catch(a){m("Failed to load course"),console.error(a)}finally{k(!1)}},s=a=>{if(!a)return"0h";let b=Math.floor(a),c=Math.floor((a-b)*60);return b>0&&c>0?`${b}h ${c}m`:b>0?`${b}h`:`${c}m`},t=async b=>{b.preventDefault();try{let b=await fetch("/api/lectures",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...p,course_id:a})}),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to create lecture");q({title:"",youtube_url:"",difficulty:"Medium",order_index:h.length}),o(!1),r()}catch(a){m(a.message)}},u=async a=>{if(window.confirm("Are you sure you want to delete this lecture?"))try{if(!(await fetch(`/api/lectures/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete lecture");r()}catch(a){m(a.message)}},v=async a=>{try{if(!(await fetch(`/api/lectures/${a.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_completed:!a.is_completed})})).ok)throw Error("Failed to update lecture");r()}catch(a){m(a.message)}};return j?(0,b.jsx)("div",{className:"loading",children:"Loading course..."}):f?(0,b.jsx)("div",{className:"course-detail",children:(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)(d.default,{href:"/courses",className:"back-link",children:"â† Back to Courses"}),(0,b.jsxs)("div",{className:"course-header",children:[(0,b.jsx)("h1",{className:"page-title",children:f.title}),(0,b.jsx)("button",{onClick:()=>o(!n),className:"btn btn-primary",children:n?"Cancel":"+ Add Lecture"})]}),(0,b.jsx)("p",{className:"course-description",children:f.description||"No description"}),f.total_hours>0&&(0,b.jsxs)("div",{className:"course-hours-info",children:[(0,b.jsxs)("div",{className:"hours-stat",children:[(0,b.jsx)("span",{className:"hours-label",children:"Total Duration:"}),(0,b.jsx)("span",{className:"hours-value",children:s(f.total_hours)})]}),(0,b.jsxs)("div",{className:"hours-stat",children:[(0,b.jsx)("span",{className:"hours-label",children:"Completed:"}),(0,b.jsx)("span",{className:"hours-value completed",children:s(f.completed_hours)})]}),(0,b.jsx)("div",{className:"hours-progress-bar",children:(0,b.jsx)("div",{className:"hours-progress-fill",style:{width:`${f.total_hours>0?f.completed_hours/f.total_hours*100:0}%`}})})]}),l&&(0,b.jsx)("div",{className:"error",children:l}),n&&(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h2",{children:"Add New Lecture"}),(0,b.jsxs)("form",{onSubmit:t,children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Lecture Title *"}),(0,b.jsx)("input",{type:"text",className:"form-input",value:p.title,onChange:a=>q({...p,title:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"YouTube URL"}),(0,b.jsx)("input",{type:"text",className:"form-input",value:p.youtube_url,onChange:a=>q({...p,youtube_url:a.target.value}),placeholder:"https://www.youtube.com/watch?v=..."})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Difficulty"}),(0,b.jsxs)("select",{className:"form-select",value:p.difficulty,onChange:a=>q({...p,difficulty:a.target.value}),children:[(0,b.jsx)("option",{value:"Easy",children:"Easy"}),(0,b.jsx)("option",{value:"Medium",children:"Medium"}),(0,b.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Lecture"})]})]}),(0,b.jsxs)("div",{className:"lectures-section",children:[(0,b.jsxs)("h2",{children:["Lectures (",h.length,")"]}),0===h.length?(0,b.jsx)("div",{className:"card",children:(0,b.jsx)("p",{className:"no-data",children:"No lectures yet. Add your first lecture!"})}):(0,b.jsx)("div",{className:"lectures-list",children:h.map((a,c)=>(0,b.jsxs)("div",{className:`lecture-item ${a.is_completed?"completed":""}`,children:[(0,b.jsx)("div",{className:"lecture-number",children:c+1}),(0,b.jsxs)("div",{className:"lecture-content",children:[(0,b.jsxs)("div",{className:"lecture-header",children:[(0,b.jsx)("h3",{children:a.title}),(0,b.jsxs)("div",{className:"lecture-actions",children:[(0,b.jsx)("span",{className:`difficulty-badge ${a.difficulty.toLowerCase()}`,children:a.difficulty}),(0,b.jsx)("button",{onClick:()=>v(a),className:`btn-complete ${a.is_completed?"completed":""}`,children:a.is_completed?"âœ“ Completed":"Mark Complete"}),(0,b.jsx)("button",{onClick:()=>u(a.id),className:"btn-delete-small",children:"Delete"})]})]}),a.youtube_url&&(0,b.jsxs)("p",{className:"lecture-video",children:["ðŸ“¹ Video: ",a.youtube_url]}),a.duration_seconds>0&&(0,b.jsxs)("p",{className:"lecture-duration",children:["â±ï¸ Duration: ",(a=>{if(!a)return"0m";let b=Math.floor(a/3600),c=Math.floor(a%3600/60);return b>0?`${b}h ${c}m`:`${c}m`})(a.duration_seconds)]}),(0,b.jsx)(d.default,{href:`/lectures/${a.id}`,className:"btn btn-primary btn-sm",children:"Open Lecture"})]})]},a.id))})]})]})}):(0,b.jsx)("div",{className:"error",children:"Course not found"})}a.s(["default",()=>f])}];

//# sourceMappingURL=app_%28authenticated%29_courses_%5Bid%5D_page_81e525bb.js.map