{"version":3,"sources":["../../../../app/%28authenticated%29/profile/page.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '@/hooks/useAuth';\nimport './profile.css';\n\nexport default function ProfilePage() {\n    const { user: authUser, logout, refetchUser } = useAuth(); // Assuming useAuth has refetchUser or we manually update\n    // Actually, useAuth keeps session state. We might need to reload session.\n    // But for now, local state 'user' keeps track of profile data.\n\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [editing, setEditing] = useState(false);\n    const [saving, setSaving] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n    const [profileImage, setProfileImage] = useState(null);\n    const [imagePreview, setImagePreview] = useState(null);\n    const [deletingImage, setDeletingImage] = useState(false);\n    const [showImageModal, setShowImageModal] = useState(false);\n    const [username, setUsername] = useState('');\n    const [educationalDetails, setEducationalDetails] = useState({\n        degree: '',\n        institution: '',\n        graduation_year: '',\n        field_of_study: '',\n        current_level: ''\n    });\n\n    useEffect(() => {\n        fetchProfile();\n    }, []);\n\n    const fetchProfile = async () => {\n        try {\n            // We can use /api/auth/session to get basic info, but /api/auth/me (custom endpoint?)\n            // Wait, original app had /api/auth/me. NextAuth uses session.\n            // But we need extended details like educationalDetails which might not be in session.\n            // The original migration plan might have missed /api/auth/me creation?\n            // Or I should use session callback to include it.\n            // BUT, I'll assume I should create a generic GET /api/auth/profile/me or similar.\n            // Actually, my PUT /api/auth/profile/route.js handles update.\n            // I should implement GET in it too.\n            // Wait, I implemented PUT. I should add GET to it.\n\n            // Let's assume I will add GET to /api/auth/profile/route.js\n            const response = await fetch('/api/auth/profile');\n            if (!response.ok) throw new Error('Failed to load profile');\n            const data = await response.json();\n\n            const userData = data.user;\n            setUser(userData);\n            setUsername(userData.username || '');\n            setEducationalDetails({\n                degree: userData.degree || '',\n                institution: userData.institution || '',\n                graduation_year: userData.graduation_year || '',\n                field_of_study: userData.field_of_study || '',\n                current_level: userData.current_level || ''\n            });\n\n            if (userData.profile_picture) {\n                setImagePreview(userData.profile_picture);\n            } else {\n                setImagePreview(null);\n            }\n        } catch (err) {\n            setError('Failed to load profile');\n            console.error(err);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // I need to update /api/auth/profile/route.js to include GET as well.\n\n    const handleImageChange = (e) => {\n        const file = e.target.files[0];\n        if (file) {\n            if (!file.type.match('image.*')) {\n                setError('Please select an image file');\n                return;\n            }\n            if (file.size > 5 * 1024 * 1024) {\n                setError('Image size must be less than 5MB');\n                return;\n            }\n            setProfileImage(file);\n            const reader = new FileReader();\n            reader.onloadend = () => {\n                setImagePreview(reader.result);\n            };\n            reader.readAsDataURL(file);\n        }\n    };\n\n    const handleDeleteImage = async () => {\n        if (!window.confirm('Are you sure you want to remove your profile picture?')) {\n            return;\n        }\n        setDeletingImage(true);\n        setError('');\n        try {\n            const response = await fetch('/api/auth/profile/picture', {\n                method: 'DELETE'\n            });\n            if (!response.ok) throw new Error('Failed to delete profile picture');\n            const data = await response.json();\n\n            setUser(data.user);\n            setImagePreview(null);\n            setProfileImage(null);\n            setSuccess('Profile picture removed successfully!');\n            setTimeout(() => setSuccess(''), 3000);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setDeletingImage(false);\n        }\n    };\n\n    const handleImageUpload = async () => {\n        if (!profileImage) {\n            setError('Please select an image first');\n            return;\n        }\n        setError('');\n        setSuccess('');\n        setSaving(true);\n        try {\n            const formData = new FormData();\n            formData.append('profile_picture', profileImage);\n\n            const response = await fetch('/api/auth/profile', {\n                method: 'PUT',\n                body: formData\n            });\n\n            if (!response.ok) throw new Error('Failed to upload image');\n            const data = await response.json();\n\n            setUser(data.user);\n            setProfileImage(null);\n            if (data.user.profile_picture) {\n                setImagePreview(data.user.profile_picture);\n            }\n            setSuccess('Profile picture updated successfully!');\n            setTimeout(() => setSuccess(''), 3000);\n        } catch (err) {\n            console.error('Upload error:', err);\n            setError(err.message);\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    const handleSave = async (e) => {\n        e.preventDefault();\n        setError('');\n        setSuccess('');\n        setSaving(true);\n        try {\n            const formData = new FormData();\n            formData.append('username', username);\n            formData.append('educationalDetails', JSON.stringify(educationalDetails));\n\n            if (profileImage) {\n                formData.append('profile_picture', profileImage);\n            }\n\n            const response = await fetch('/api/auth/profile', {\n                method: 'PUT',\n                body: formData\n            });\n\n            if (!response.ok) throw new Error('Failed to update profile');\n            const data = await response.json();\n\n            setUser(data.user);\n            setEditing(false);\n            setProfileImage(null);\n            if (data.user.profile_picture) {\n                setImagePreview(data.user.profile_picture);\n            }\n            setSuccess('Profile updated successfully!');\n            setTimeout(() => setSuccess(''), 3000);\n        } catch (err) {\n            console.error('Save error:', err);\n            setError(err.message);\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    const handleCancel = () => {\n        setEditing(false);\n        setError('');\n        setSuccess('');\n        setProfileImage(null);\n        if (user) {\n            setUsername(user.username || '');\n            setEducationalDetails({\n                degree: user.degree || '',\n                institution: user.institution || '',\n                graduation_year: user.graduation_year || '',\n                field_of_study: user.field_of_study || '',\n                current_level: user.current_level || ''\n            });\n            if (user.profile_picture) {\n                setImagePreview(user.profile_picture);\n            } else {\n                setImagePreview(null);\n            }\n        }\n    };\n\n    if (loading) {\n        return <div className=\"loading\">Loading profile...</div>;\n    }\n\n    if (!user) {\n        // Should verify if this ever happens with proper auth\n        return <div className=\"error\">User not found</div>;\n    }\n\n    return (\n        <div className=\"profile-page\">\n            <div className=\"container\">\n                <h1 className=\"page-title\">My Profile</h1>\n\n                <div className=\"profile-container\">\n                    <div className=\"profile-header\">\n                        <div className=\"profile-avatar-section\">\n                            <div\n                                className=\"profile-avatar\"\n                                onClick={() => setShowImageModal(true)}\n                                title=\"Click to view profile picture\"\n                            >\n                                {imagePreview || user.profile_picture ? (\n                                    <img\n                                        src={imagePreview || user.profile_picture}\n                                        alt={user.username}\n                                        className=\"profile-image\"\n                                        onError={(e) => {\n                                            e.target.style.display = 'none';\n                                            // e.target.nextElementSibling?.style.display = 'flex'; // Not easy in React without state, assumes placeholder next\n                                        }}\n                                    />\n                                ) : null}\n                                {(!imagePreview && !user.profile_picture) && (\n                                    <div className=\"avatar-placeholder\">\n                                        {user.username.charAt(0).toUpperCase()}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                        <div className=\"profile-info\">\n                            <h2>{user.username}</h2>\n                            <p className=\"profile-email\">{user.email}</p>\n                            <span className={`auth-badge ${user.auth_provider}`}>\n                                {user.auth_provider === 'google' ? 'üîê Google Account' : 'üìß Email Account'}\n                            </span>\n                            <p className=\"profile-joined\">\n                                Member since {new Date(user.created_at).toLocaleDateString('en-US', {\n                                    year: 'numeric',\n                                    month: 'long'\n                                })}\n                            </p>\n                            <button\n                                onClick={logout}\n                                className=\"btn btn-danger\"\n                                style={{ marginTop: '1rem', padding: '0.5rem 1rem', fontSize: '0.9rem' }}\n                            >\n                                Logout\n                            </button>\n                        </div>\n                    </div>\n\n                    <div className=\"profile-section\">\n                        <div className=\"section-header\">\n                            <h3>Educational Details</h3>\n                            {!editing && (\n                                <button\n                                    onClick={() => setEditing(true)}\n                                    className=\"btn btn-primary\"\n                                >\n                                    Edit Details\n                                </button>\n                            )}\n                        </div>\n\n                        {error && <div className=\"error\">{error}</div>}\n                        {success && <div className=\"success\">{success}</div>}\n\n                        {editing ? (\n                            <form onSubmit={handleSave} className=\"educational-form\">\n                                <div className=\"form-group\" style={{ marginBottom: '1.5rem' }}>\n                                    <label className=\"form-label\">Username</label>\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-input\"\n                                        value={username}\n                                        onChange={(e) => setUsername(e.target.value)}\n                                        required\n                                        minLength={3}\n                                    />\n                                </div>\n\n                                <div className=\"form-row\">\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">Current Level</label>\n                                        <select\n                                            className=\"form-select\"\n                                            value={educationalDetails.current_level}\n                                            onChange={(e) =>\n                                                setEducationalDetails({\n                                                    ...educationalDetails,\n                                                    current_level: e.target.value\n                                                })\n                                            }\n                                        >\n                                            <option value=\"\">Select Level</option>\n                                            <option value=\"High School\">High School</option>\n                                            <option value=\"Undergraduate\">Undergraduate</option>\n                                            <option value=\"Graduate\">Graduate</option>\n                                            <option value=\"Professional\">Professional</option>\n                                            <option value=\"Other\">Other</option>\n                                        </select>\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">Degree</label>\n                                        <input\n                                            type=\"text\"\n                                            className=\"form-input\"\n                                            placeholder=\"e.g., B.Tech, M.Sc\"\n                                            value={educationalDetails.degree}\n                                            onChange={(e) =>\n                                                setEducationalDetails({\n                                                    ...educationalDetails,\n                                                    degree: e.target.value\n                                                })\n                                            }\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label className=\"form-label\">Institution</label>\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-input\"\n                                        placeholder=\"University/College name\"\n                                        value={educationalDetails.institution}\n                                        onChange={(e) =>\n                                            setEducationalDetails({\n                                                ...educationalDetails,\n                                                institution: e.target.value\n                                            })\n                                        }\n                                    />\n                                </div>\n\n                                <div className=\"form-row\">\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">Field of Study (Branch)</label>\n                                        <select\n                                            className=\"form-select\"\n                                            value={educationalDetails.field_of_study}\n                                            onChange={(e) =>\n                                                setEducationalDetails({\n                                                    ...educationalDetails,\n                                                    field_of_study: e.target.value\n                                                })\n                                            }\n                                        >\n                                            <option value=\"\">Select Branch</option>\n                                            <option value=\"Computer Science\">Computer Science</option>\n                                            <option value=\"Information Technology\">Information Technology</option>\n                                            <option value=\"Electronics & Communication\">Electronics & Communication</option>\n                                            <option value=\"Mechanical Engineering\">Mechanical Engineering</option>\n                                            <option value=\"Civil Engineering\">Civil Engineering</option>\n                                            <option value=\"Electrical Engineering\">Electrical Engineering</option>\n                                            <option value=\"Data Science & AI\">Data Science & AI</option>\n                                            <option value=\"Other\">Other</option>\n                                        </select>\n                                    </div>\n\n                                    <div className=\"form-group\">\n                                        <label className=\"form-label\">Graduation Year</label>\n                                        <input\n                                            type=\"number\"\n                                            className=\"form-input\"\n                                            placeholder=\"e.g., 2024\"\n                                            min=\"1950\"\n                                            max=\"2100\"\n                                            value={educationalDetails.graduation_year}\n                                            onChange={(e) =>\n                                                setEducationalDetails({\n                                                    ...educationalDetails,\n                                                    graduation_year: e.target.value\n                                                })\n                                            }\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"form-actions\">\n                                    <button\n                                        type=\"button\"\n                                        onClick={handleCancel}\n                                        className=\"btn btn-secondary\"\n                                        disabled={saving}\n                                    >\n                                        Cancel\n                                    </button>\n                                    <button\n                                        type=\"submit\"\n                                        className=\"btn btn-primary\"\n                                        disabled={saving}\n                                    >\n                                        {saving ? 'Saving...' : 'Save Changes'}\n                                    </button>\n                                </div>\n                            </form>\n                        ) : (\n                            <div className=\"educational-details-view\">\n                                {user.current_level || user.degree || user.institution ? (\n                                    <div className=\"details-grid\">\n                                        {user.current_level && (\n                                            <div className=\"detail-item\">\n                                                <span className=\"detail-label\">Current Level:</span>\n                                                <span className=\"detail-value\">{user.current_level}</span>\n                                            </div>\n                                        )}\n                                        {user.degree && (\n                                            <div className=\"detail-item\">\n                                                <span className=\"detail-label\">Degree:</span>\n                                                <span className=\"detail-value\">{user.degree}</span>\n                                            </div>\n                                        )}\n                                        {user.institution && (\n                                            <div className=\"detail-item\">\n                                                <span className=\"detail-label\">Institution:</span>\n                                                <span className=\"detail-value\">{user.institution}</span>\n                                            </div>\n                                        )}\n                                        {user.field_of_study && (\n                                            <div className=\"detail-item\">\n                                                <span className=\"detail-label\">Branch/Field of Study:</span>\n                                                <span className=\"detail-value\">{user.field_of_study}</span>\n                                            </div>\n                                        )}\n                                        {user.graduation_year && (\n                                            <div className=\"detail-item\">\n                                                <span className=\"detail-label\">Graduation Year:</span>\n                                                <span className=\"detail-value\">{user.graduation_year}</span>\n                                            </div>\n                                        )}\n                                    </div>\n                                ) : (\n                                    <p className=\"no-details\">\n                                        No educational details added yet. Click \"Edit Details\" to add your information.\n                                    </p>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n            {/* Image Preview Modal */}\n            {showImageModal && (\n                <div className=\"profile-image-modal-overlay\" onClick={() => setShowImageModal(false)}>\n                    <div className=\"profile-image-modal\" onClick={e => e.stopPropagation()}>\n                        <div className=\"modal-header\">\n                            <h3>Profile photo</h3>\n                            <button className=\"close-btn\" onClick={() => setShowImageModal(false)}>‚úï</button>\n                        </div>\n\n                        <div className=\"modal-body\">\n                            {imagePreview || user.profile_picture ? (\n                                <img\n                                    src={imagePreview || user.profile_picture}\n                                    alt={user.username}\n                                    className=\"modal-image\"\n                                />\n                            ) : (\n                                <div className=\"modal-placeholder\">\n                                    {user.username.charAt(0).toUpperCase()}\n                                </div>\n                            )}\n                        </div>\n\n                        <div className=\"modal-footer\">\n                            <div className=\"modal-actions\">\n                                <label htmlFor=\"modal-image-upload\" className=\"modal-action-btn\">\n                                    <span className=\"icon\">‚úé</span>\n                                    <span className=\"text\">{profileImage ? 'Change Photo' : 'Update Photo'}</span>\n                                </label>\n                                <input\n                                    id=\"modal-image-upload\"\n                                    type=\"file\"\n                                    accept=\"image/jpeg,image/jpg,image/png,image/gif,image/webp\"\n                                    onChange={handleImageChange}\n                                    style={{ display: 'none' }}\n                                />\n\n                                {profileImage && (\n                                    <button\n                                        className=\"modal-action-btn save\"\n                                        onClick={handleImageUpload}\n                                        disabled={saving}\n                                    >\n                                        <span className=\"icon\">üíæ</span>\n                                        <span className=\"text\">{saving ? 'Saving...' : 'Save'}</span>\n                                    </button>\n                                )}\n\n                                {(user.profile_picture || imagePreview) && (\n                                    <button\n                                        className=\"modal-action-btn delete\"\n                                        onClick={handleDeleteImage}\n                                        disabled={deletingImage}\n                                    >\n                                        <span className=\"icon\">üóë</span>\n                                        <span className=\"text\">Delete</span>\n                                    </button>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAGe,SAAS,IACpB,GAAM,CAAE,KAAM,CAAQ,QAAE,CAAM,aAAE,CAAW,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAIjD,CAJqD,AAIpD,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,MAC3B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAS,EAAW,CAAG,AANsF,CAMtF,EAAA,EAAA,QAAQ,AAAR,GAAS,GACjC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/B,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC3C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MAC3C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACnC,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACzD,OAAQ,GACR,YAAa,GACb,gBAAiB,GACjB,eAAgB,GAChB,cAAe,EACnB,GAEA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACN,GACJ,EAAG,EAAE,EAEL,IAAM,EAAe,UACjB,GAAI,CAYA,IAAM,EAAW,MAAM,MAAM,qBAC7B,GAAI,CAAC,EAAS,EAAE,CAAE,MAAM,AAAI,MAAM,0BAGlC,IAAM,EAAW,CAFJ,MAAM,EAAS,IAAI,EAAA,EAEV,IAAI,CAC1B,EAAQ,GACR,EAAY,EAAS,QAAQ,EAAI,IACjC,EAAsB,CAClB,OAAQ,EAAS,MAAM,EAAI,GAC3B,YAAa,EAAS,WAAW,EAAI,GACrC,gBAAiB,EAAS,eAAe,EAAI,GAC7C,eAAgB,EAAS,cAAc,EAAI,GAC3C,cAAe,EAAS,aAAa,EAAI,EAC7C,GAEI,EAAS,eAAe,CACxB,CAD0B,CACV,EAAS,eAAe,EAExC,EAAgB,KAExB,CAAE,MAAO,EAAK,CACV,EAAS,0BACT,QAAQ,KAAK,CAAC,EAClB,QAAU,CACN,GAAW,EACf,CACJ,EAwBM,EAAoB,UACtB,GAAK,CAAD,MAAQ,OAAO,CAAC,0DAA0D,AAG9E,EAAiB,IACjB,EAAS,IACT,GAAI,CACA,IAAM,EAAW,MAAM,MAAM,4BAA6B,CACtD,OAAQ,QACZ,GACA,GAAI,CAAC,EAAS,EAAE,CAAE,MAAM,AAAI,MAAM,oCAClC,IAAM,EAAO,MAAM,EAAS,IAAI,GAEhC,EAAQ,EAAK,IAAI,EACjB,EAAgB,MAChB,EAAgB,MAChB,EAAW,yCACX,WAAW,IAAM,EAAW,IAAK,IACrC,CAAE,MAAO,EAAK,CACV,EAAS,EAAI,OAAO,CACxB,QAAU,CACN,GAAiB,EACrB,EACJ,EAEM,EAAoB,UACtB,GAAI,CAAC,EAAc,YACf,EAAS,gCAGb,EAAS,IACT,EAAW,IACX,GAAU,GACV,GAAI,CACA,IAAM,EAAW,IAAI,SACrB,EAAS,MAAM,CAAC,kBAAmB,GAEnC,IAAM,EAAW,MAAM,MAAM,oBAAqB,CAC9C,OAAQ,MACR,KAAM,CACV,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,MAAM,AAAI,MAAM,0BAClC,IAAM,EAAO,MAAM,EAAS,IAAI,GAEhC,EAAQ,EAAK,IAAI,EACjB,EAAgB,MACZ,EAAK,IAAI,CAAC,eAAe,EAAE,AAC3B,EAAgB,EAAK,IAAI,CAAC,eAAe,EAE7C,EAAW,yCACX,WAAW,IAAM,EAAW,IAAK,IACrC,CAAE,MAAO,EAAK,CACV,QAAQ,KAAK,CAAC,gBAAiB,GAC/B,EAAS,EAAI,OAAO,CACxB,QAAU,CACN,GAAU,EACd,CACJ,EAEM,EAAa,MAAO,IACtB,EAAE,cAAc,GAChB,EAAS,IACT,EAAW,IACX,EAAU,IACV,GAAI,CACA,IAAM,EAAW,IAAI,SACrB,EAAS,MAAM,CAAC,WAAY,GAC5B,EAAS,MAAM,CAAC,qBAAsB,KAAK,SAAS,CAAC,IAEjD,GACA,EAAS,MAAM,CAAC,EADF,gBACqB,GAGvC,IAAM,EAAW,MAAM,MAAM,oBAAqB,CAC9C,OAAQ,MACR,KAAM,CACV,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,MAAM,AAAI,MAAM,4BAClC,IAAM,EAAO,MAAM,EAAS,IAAI,GAEhC,EAAQ,EAAK,IAAI,EACjB,GAAW,GACX,EAAgB,MACZ,EAAK,IAAI,CAAC,eAAe,EAAE,AAC3B,EAAgB,EAAK,IAAI,CAAC,eAAe,EAE7C,EAAW,iCACX,WAAW,IAAM,EAAW,IAAK,IACrC,CAAE,MAAO,EAAK,CACV,QAAQ,KAAK,CAAC,cAAe,GAC7B,EAAS,EAAI,OAAO,CACxB,QAAU,CACN,GAAU,EACd,CACJ,SAwBA,AAAI,EACO,CAAA,EAAA,EAAA,EADE,CACF,EAAC,MAAA,CAAI,UAAU,mBAAU,uBAG/B,EAMD,CAAA,EAAA,CANO,CAMP,IAAA,EAAC,MAAA,CAAI,UAAU,yBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sBAAa,eAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACG,UAAU,iBACV,QAAS,IAAM,EAAkB,IACjC,MAAM,0CAEL,GAAgB,EAAK,eAAe,CACjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,IAAK,GAAgB,EAAK,eAAe,CACzC,IAAK,EAAK,QAAQ,CAClB,UAAU,gBACV,QAAS,AAAC,IACN,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAG,MAE7B,IAEJ,KACF,CAAC,GAAgB,CAAC,EAAK,eAAe,EACpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BACV,EAAK,QAAQ,CAAC,MAAM,CAAC,GAAG,WAAW,UAKpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yBACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAI,EAAK,QAAQ,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yBAAiB,EAAK,KAAK,GACxC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,WAAW,EAAE,EAAK,aAAa,CAAA,CAAE,UACvB,WAAvB,EAAK,aAAa,CAAgB,oBAAsB,qBAE7D,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,2BAAiB,gBACZ,IAAI,KAAK,EAAK,UAAU,EAAE,kBAAkB,CAAC,QAAS,CAChE,KAAM,UACN,MAAO,MACX,MAEJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,EACT,UAAU,iBACV,MAAO,CAAE,UAAW,OAAQ,QAAS,cAAe,SAAU,QAAS,WAC1E,iBAMT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,wBACH,CAAC,GACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,IAAM,GAAW,GAC1B,UAAU,2BACb,oBAMR,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iBAAS,IACjC,GAAW,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mBAAW,IAErC,EACG,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAY,UAAU,6BAClC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,aAAa,MAAO,CAAE,aAAc,QAAS,YACxD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,aAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,UAAU,aACV,MAAO,EACP,SAAW,AAAD,GAAO,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,QAAQ,CAAA,CAAA,EACR,UAAW,OAInB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,kBAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,UAAU,cACV,MAAO,EAAmB,aAAa,CACvC,SAAU,AAAC,GACP,EAAsB,CAClB,GAAG,CAAkB,CACrB,cAAe,EAAE,MAAM,CAAC,KAAK,AACjC,aAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,iBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,uBAAc,gBAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,yBAAgB,kBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,aACzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,wBAAe,iBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,iBAAQ,gBAI9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,WAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,UAAU,aACV,YAAY,qBACZ,MAAO,EAAmB,MAAM,CAChC,SAAU,AAAC,GACP,EAAsB,CAClB,GAAG,CAAkB,CACrB,OAAQ,EAAE,MAAM,CAAC,KAAK,AAC1B,WAMhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,gBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,OACL,UAAU,aACV,YAAY,0BACZ,MAAO,EAAmB,WAAW,CACrC,SAAU,AAAC,GACP,EAAsB,CAClB,GAAG,CAAkB,CACrB,YAAa,EAAE,MAAM,CAAC,KAAK,AAC/B,QAKZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,4BAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,UAAU,cACV,MAAO,EAAmB,cAAc,CACxC,SAAU,AAAC,GACP,EAAsB,CAClB,GAAG,CAAkB,CACrB,eAAgB,EAAE,MAAM,CAAC,KAAK,AAClC,aAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,YAAG,kBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,4BAAmB,qBACjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,kCAAyB,2BACvC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,uCAA8B,gCAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,kCAAyB,2BACvC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,6BAAoB,sBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,kCAAyB,2BACvC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,6BAAoB,sBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,iBAAQ,gBAI9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACX,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,sBAAa,oBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,KAAK,SACL,UAAU,aACV,YAAY,aACZ,IAAI,OACJ,IAAI,OACJ,MAAO,EAAmB,eAAe,CACzC,SAAU,AAAC,GACP,EAAsB,CAClB,GAAG,CAAkB,CACrB,gBAAiB,EAAE,MAAM,CAAC,KAC9B,AADmC,WAOnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yBACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,QAxNf,CAwNwB,IAvNzC,GAAW,GACX,EAAS,IACT,EAAW,IACX,EAAgB,MACZ,IACA,EADM,AACM,EAAK,QAAQ,EAAI,IAC7B,EAAsB,CAClB,OAAQ,EAAK,MAAM,EAAI,GACvB,YAAa,EAAK,WAAW,EAAI,GACjC,gBAAiB,EAAK,eAAe,EAAI,GACzC,eAAgB,EAAK,cAAc,EAAI,GACvC,cAAe,EAAK,aAAa,EAAI,EACzC,GACI,EAAK,eAAe,CACpB,CADsB,CACN,EAAK,eAAe,EAEpC,EAAgB,MAG5B,EAqMoC,UAAU,oBACV,SAAU,WACb,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,UAAU,kBACV,SAAU,WAET,EAAS,YAAc,uBAKpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACV,EAAK,aAAa,EAAI,EAAK,MAAM,EAAI,EAAK,WAAW,CAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yBACV,EAAK,aAAa,EACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,mBAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAgB,EAAK,aAAa,MAGzD,EAAK,MAAM,EACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,YAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAgB,EAAK,MAAM,MAGlD,EAAK,WAAW,EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,iBAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAgB,EAAK,WAAW,MAGvD,EAAK,cAAc,EAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,2BAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAgB,EAAK,cAAc,MAG1D,EAAK,eAAe,EACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,qBAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAgB,EAAK,eAAe,SAKhE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sBAAa,+FAUjD,GACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAA8B,QAAS,IAAM,GAAkB,YAC1E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAAsB,QAAS,GAAK,EAAE,eAAe,aAChE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yBACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,kBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,YAAY,QAAS,IAAM,GAAkB,YAAQ,SAG3E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACV,GAAgB,EAAK,eAAe,CACjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACG,IAAK,GAAgB,EAAK,eAAe,CACzC,IAAK,EAAK,QAAQ,CAClB,UAAU,gBAGd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACV,EAAK,QAAQ,CAAC,MAAM,CAAC,GAAG,WAAW,OAKhD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACX,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,QAAQ,qBAAqB,UAAU,6BAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAO,MACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAQ,EAAe,eAAiB,oBAE5D,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,GAAG,qBACH,KAAK,OACL,OAAO,sDACP,SA3aL,AAAD,CA2agB,GA1atC,IAAM,EAAO,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAC9B,GAAI,EAAM,CACN,GAAI,CAAC,EAAK,IAAI,CAAC,KAAK,CAAC,WAAY,YAC7B,EAAS,+BAGb,GAAI,EAAK,IAAI,CAAG,IAAI,IAAa,GAAN,SACvB,EAAS,oCAGb,EAAgB,GAChB,IAAM,EAAS,IAAI,WACnB,EAAO,SAAS,CAAG,KACf,EAAgB,EAAO,MAAM,CACjC,EACA,EAAO,aAAa,CAAC,EACzB,CACJ,EA0ZgC,MAAO,CAAE,QAAS,MAAO,IAG5B,GACG,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,UAAU,wBACV,QAAS,EACT,SAAU,YAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAO,OACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAQ,EAAS,YAAc,YAItD,AAAC,GAAK,eAAe,EAAI,CAAA,CAAY,EAClC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACG,UAAU,0BACV,QAAS,EACT,SAAU,YAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAO,OACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gBAAO,2BA/ShD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iBAAQ,kBAyTtC"}