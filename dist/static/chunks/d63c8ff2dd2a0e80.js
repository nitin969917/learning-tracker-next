(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82267,e=>{"use strict";var s=e.i(43476),t=e.i(71645),l=e.i(22016),r=e.i(18566);function a(){let{id:e}=(0,r.useParams)(),[a,c]=(0,t.useState)(null),[i,o]=(0,t.useState)([]),[d,n]=(0,t.useState)(!0),[u,h]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[f,j]=(0,t.useState)({title:"",youtube_url:"",difficulty:"Medium",order_index:0});(0,t.useEffect)(()=>{x()},[e]);let x=async()=>{try{let s=await fetch(`/api/courses/${e}`);if(!s.ok)throw Error("Failed to fetch course");let t=await s.json();c(t),o(t.lectures||[])}catch(e){h("Failed to load course"),console.error(e)}finally{n(!1)}},N=e=>{if(!e)return"0h";let s=Math.floor(e),t=Math.floor((e-s)*60);return s>0&&t>0?`${s}h ${t}m`:s>0?`${s}h`:`${t}m`},y=async s=>{s.preventDefault();try{let s=await fetch("/api/lectures",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,course_id:e})}),t=await s.json();if(!s.ok)throw Error(t.error||"Failed to create lecture");j({title:"",youtube_url:"",difficulty:"Medium",order_index:i.length}),p(!1),x()}catch(e){h(e.message)}},b=async e=>{if(window.confirm("Are you sure you want to delete this lecture?"))try{if(!(await fetch(`/api/lectures/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete lecture");x()}catch(e){h(e.message)}},v=async e=>{try{if(!(await fetch(`/api/lectures/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_completed:!e.is_completed})})).ok)throw Error("Failed to update lecture");x()}catch(e){h(e.message)}};return d?(0,s.jsx)("div",{className:"loading",children:"Loading course..."}):a?(0,s.jsx)("div",{className:"course-detail",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)(l.default,{href:"/courses",className:"back-link",children:"â† Back to Courses"}),(0,s.jsxs)("div",{className:"course-header",children:[(0,s.jsx)("h1",{className:"page-title",children:a.title}),(0,s.jsx)("button",{onClick:()=>p(!m),className:"btn btn-primary",children:m?"Cancel":"+ Add Lecture"})]}),(0,s.jsx)("p",{className:"course-description",children:a.description||"No description"}),a.total_hours>0&&(0,s.jsxs)("div",{className:"course-hours-info",children:[(0,s.jsxs)("div",{className:"hours-stat",children:[(0,s.jsx)("span",{className:"hours-label",children:"Total Duration:"}),(0,s.jsx)("span",{className:"hours-value",children:N(a.total_hours)})]}),(0,s.jsxs)("div",{className:"hours-stat",children:[(0,s.jsx)("span",{className:"hours-label",children:"Completed:"}),(0,s.jsx)("span",{className:"hours-value completed",children:N(a.completed_hours)})]}),(0,s.jsx)("div",{className:"hours-progress-bar",children:(0,s.jsx)("div",{className:"hours-progress-fill",style:{width:`${a.total_hours>0?a.completed_hours/a.total_hours*100:0}%`}})})]}),u&&(0,s.jsx)("div",{className:"error",children:u}),m&&(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h2",{children:"Add New Lecture"}),(0,s.jsxs)("form",{onSubmit:y,children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Lecture Title *"}),(0,s.jsx)("input",{type:"text",className:"form-input",value:f.title,onChange:e=>j({...f,title:e.target.value}),required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"YouTube URL"}),(0,s.jsx)("input",{type:"text",className:"form-input",value:f.youtube_url,onChange:e=>j({...f,youtube_url:e.target.value}),placeholder:"https://www.youtube.com/watch?v=..."})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{className:"form-label",children:"Difficulty"}),(0,s.jsxs)("select",{className:"form-select",value:f.difficulty,onChange:e=>j({...f,difficulty:e.target.value}),children:[(0,s.jsx)("option",{value:"Easy",children:"Easy"}),(0,s.jsx)("option",{value:"Medium",children:"Medium"}),(0,s.jsx)("option",{value:"Hard",children:"Hard"})]})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add Lecture"})]})]}),(0,s.jsxs)("div",{className:"lectures-section",children:[(0,s.jsxs)("h2",{children:["Lectures (",i.length,")"]}),0===i.length?(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("p",{className:"no-data",children:"No lectures yet. Add your first lecture!"})}):(0,s.jsx)("div",{className:"lectures-list",children:i.map((e,t)=>(0,s.jsxs)("div",{className:`lecture-item ${e.is_completed?"completed":""}`,children:[(0,s.jsx)("div",{className:"lecture-number",children:t+1}),(0,s.jsxs)("div",{className:"lecture-content",children:[(0,s.jsxs)("div",{className:"lecture-header",children:[(0,s.jsx)("h3",{children:e.title}),(0,s.jsxs)("div",{className:"lecture-actions",children:[(0,s.jsx)("span",{className:`difficulty-badge ${e.difficulty.toLowerCase()}`,children:e.difficulty}),(0,s.jsx)("button",{onClick:()=>v(e),className:`btn-complete ${e.is_completed?"completed":""}`,children:e.is_completed?"âœ“ Completed":"Mark Complete"}),(0,s.jsx)("button",{onClick:()=>b(e.id),className:"btn-delete-small",children:"Delete"})]})]}),e.youtube_url&&(0,s.jsxs)("p",{className:"lecture-video",children:["ðŸ“¹ Video: ",e.youtube_url]}),e.duration_seconds>0&&(0,s.jsxs)("p",{className:"lecture-duration",children:["â±ï¸ Duration: ",(e=>{if(!e)return"0m";let s=Math.floor(e/3600),t=Math.floor(e%3600/60);return s>0?`${s}h ${t}m`:`${t}m`})(e.duration_seconds)]}),(0,s.jsx)(l.default,{href:`/lectures/${e.id}`,className:"btn btn-primary btn-sm",children:"Open Lecture"})]})]},e.id))})]})]})}):(0,s.jsx)("div",{className:"error",children:"Course not found"})}e.s(["default",()=>a])}]);