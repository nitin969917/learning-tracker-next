(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,s)=>{r.exports=e.r(76562)},63394,e=>{"use strict";var r=e.i(17255);e.s(["useAuth",0,()=>{let{data:e,status:s}=(0,r.useSession)(),t=e?.user,a=async(e,s)=>{let t=await (0,r.signIn)("credentials",{redirect:!1,email:e,password:s});return t?.error?{success:!1,error:t.error}:{success:!0}},n=async(e,s)=>{try{let s=await (0,r.signIn)("credentials",{redirect:!1,googleIdToken:e});if(console.log("SignIn Result Full Object:",s),s?.error)return console.error("Sign in failed:",s.error),{success:!1,error:s.error};if(s?.ok)return{success:!0,isNewUser:!1};return{success:!1,error:"DEBUG: "+JSON.stringify(s)}}catch(e){return console.error("Google sign in exception:",e),{success:!1,error:e.message}}};return{user:t?{...t,username:t.name,profile_picture:t.image}:null,loading:"loading"===s,isAuthenticated:"authenticated"===s,login:a,logout:r.signOut,register:async e=>{try{let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();if(!s.ok)throw Error(t.error);let a=await (0,r.signIn)("credentials",{redirect:!1,email:e.email,password:e.password});if(a?.error)return{success:!1,error:a.error};return{success:!0}}catch(e){return{success:!1,error:e.message}}},googleSignIn:n}}])},81065,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(63394);e.s(["default",0,({onSuccess:e,showEducationalForm:a=!1})=>{let{googleSignIn:n}=(0,t.useAuth)(),[o,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(""),[u,d]=(0,s.useState)(!1),[g,h]=(0,s.useState)({degree:"",institution:"",graduation_year:"",field_of_study:"",current_level:""}),m=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,document.body.appendChild(e),e.onload=()=>{window.google&&window.google.accounts&&(window.google.accounts.id.initialize({client_id:"557947080645-2iqd1t1h79b273ktjqthcg6q23k9pem1.apps.googleusercontent.com",callback:p}),m.current&&window.google.accounts.id&&window.google.accounts.id.renderButton(m.current,{theme:"outline",size:"large",width:"100%",text:"signin_with",locale:"en"}))},()=>{e.parentNode&&e.parentNode.removeChild(e)}},[]);let p=async r=>{c(""),i(!0);try{let s=await n(r.credential,u?g:null);s.success?s.isNewUser&&a?d(!0):e&&e():(console.error("Google Sign In Error Result:",s),c(s.error||"Google sign-in failed"),i(!1))}catch(e){console.error(e),c("Google sign-in failed"),i(!1)}},f=async r=>{r.preventDefault(),e&&e()};return(0,r.jsxs)("div",{className:"google-signin-container",children:[(0,r.jsx)("div",{ref:m,className:"google-signin-button-wrapper"}),l&&(0,r.jsx)("div",{className:"error-message",children:l}),u&&(0,r.jsxs)("div",{className:"educational-form",children:[(0,r.jsx)("h3",{children:"Educational Details (Optional)"}),(0,r.jsxs)("form",{onSubmit:f,children:[(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Current Level"}),(0,r.jsxs)("select",{className:"form-select",value:g.current_level,onChange:e=>h({...g,current_level:e.target.value}),children:[(0,r.jsx)("option",{value:"",children:"Select Level"}),(0,r.jsx)("option",{value:"High School",children:"High School"}),(0,r.jsx)("option",{value:"Undergraduate",children:"Undergraduate"}),(0,r.jsx)("option",{value:"Graduate",children:"Graduate"}),(0,r.jsx)("option",{value:"Professional",children:"Professional"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Degree"}),(0,r.jsx)("input",{type:"text",className:"form-input",placeholder:"e.g., B.Tech, M.Sc",value:g.degree,onChange:e=>h({...g,degree:e.target.value})})]})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Institution"}),(0,r.jsx)("input",{type:"text",className:"form-input",placeholder:"University/College name",value:g.institution,onChange:e=>h({...g,institution:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-row",children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Field of Study"}),(0,r.jsx)("input",{type:"text",className:"form-input",placeholder:"e.g., Computer Science",value:g.field_of_study,onChange:e=>h({...g,field_of_study:e.target.value})})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{children:"Graduation Year"}),(0,r.jsx)("input",{type:"number",className:"form-input",placeholder:"e.g., 2024",min:"1950",max:"2100",value:g.graduation_year,onChange:e=>h({...g,graduation_year:e.target.value})})]})]}),(0,r.jsx)("button",{type:"submit",className:"btn-submit",disabled:o,children:o?"Processing...":"Continue"})]})]})]})}])},67110,e=>{"use strict";var r=e.i(43476),s=e.i(18566),t=e.i(81065);function a(){let e=(0,s.useRouter)();return(0,r.jsx)("div",{className:"auth-container",children:(0,r.jsxs)("div",{className:"auth-card",children:[(0,r.jsx)("h1",{children:"Register"}),(0,r.jsx)("p",{className:"auth-subtitle",children:"Use your Google account to create your learning tracker profile."}),(0,r.jsx)(t.default,{onSuccess:()=>{e.push("/dashboard")},showEducationalForm:!0}),(0,r.jsx)("p",{className:"auth-footer",children:"Already have an account? Just login with the same Google account."})]})})}e.s(["default",()=>a])}]);